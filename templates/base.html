{% load static %}

<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <title>{{ nombre }}</title>
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="{% static 'lib/adminlte-3.0.4/plugins/font-awesome-5.11.1/css/all.min.css' %}">
    <!-- Theme style -->
    <link rel="stylesheet" href="{% static 'lib/adminlte-3.0.4/css/adminlte.min.css' %}">
    <!-- Favicons -->
    <link href="{% static 'img/fabicon.png' %}" rel="icon">
    <link href="{% static 'img/fabicon.png' %}" rel="apple-touch-icon">
    <!-- Google Font: Source Sans Pro -->
    <link href="{% static 'css/otro/css.css' %}" rel="stylesheet">
    <!-- Me sirve para la tabla -->
    <link href="{% static 'css/toastr/toastr.min.css' %}" rel="stylesheet">
    <!-- Me sirve para la alerta de los registros -->
    <script src="{% static 'lib/sweetalert2-9.10.0/sweetalert2.all.min.js' %}"></script>
    <link href="{% static 'lib/bootstrap-4.4.1-dist/css/bootstrap.min.css' %}">
    <link href="{% static 'lib/bootstrap-4.4.1-dist/css/bootstrap-datetimepicker.min.css' %}">
    <script src="{% static 'lib/plugins/jquery/jquery.min.js' %}"></script>
    <script src="{% static 'lib/bootstrap-4.4.1-dist/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'lib/bootstrap-4.4.1-dist/css/moment.min.js' %}"></script>
    <script src="{% static 'lib/bootstrap-4.4.1-dist/css/bootstrap-datetimepicker.min.js' %}"></script>
    <link rel="stylesheet" href="{% static 'lib/datatables-1.10.20/css/dataTables.bootstrap4.min.css' %}"/>
    <link rel="stylesheet"
          href="{% static 'lib/datatables-1.10.20/plugins/responsive-2.2.3/css/responsive.bootstrap4.min.css' %}"/>
    <script src="{% static 'lib/datatables-1.10.20/js/jquery.dataTables.js' %}"></script>
    <script src="{% static 'lib/datatables-1.10.20/js/dataTables.bootstrap4.min.js' %}"></script>
    <script src="{% static 'lib/datatables-1.10.20/plugins/responsive-2.2.3/js/dataTables.responsive.min.js' %}"></script>
    <script src="{% static 'lib/datatables-1.10.20/plugins/responsive-2.2.3/js/responsive.bootstrap4.min.js' %}"></script>
    <!-- Jquery Confirm -->
    <link rel="stylesheet" href="{% static 'lib/jquery-confirm-v3.3.4/jquery-confirm.min.css' %}">
    <script src="{% static 'lib/jquery-confirm-v3.3.4/jquery-confirm.min.js' %}"></script>
    <!-- Functions -->
    <script src="{% static 'acciones/app_factura_detalle/functions.js' %}"></script>
    <script src="{% static 'js/functions.js' %}"></script>
    <!-- My css -->
    <link rel="stylesheet" href="{% static 'css/mystyle.css' %}">
    <!-- Estilos Odoo para formularios -->
    <link rel="stylesheet" href="{% static 'css/odoo-forms.css' %}">

    <!-- ESTILOS ODOO PROFESIONALES - MANTIENE FUNCIONALIDAD ADMINLTE -->
    <style>
        /* Importar fuente moderna */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        /* Variables de color profesionales */
        :root {
            --odoo-primary: #3498DB;
            --odoo-primary-dark: #2980B9;
            --odoo-primary-light: #5DADE2;
            --odoo-gray-50: #f8f9fa;
            --odoo-gray-100: #f1f3f4;
            --odoo-gray-200: #e8eaed;
            --odoo-gray-300: #dadce0;
            --odoo-gray-400: #bdc1c6;
            --odoo-gray-500: #9aa0a6;
            --odoo-gray-600: #5f6368;
            --odoo-gray-700: #3c4043;
            --odoo-gray-800: #202124;
            --odoo-gray-900: #1a1a1a;
        }

        /* Fuente global más moderna */
        body, .sidebar, .main-header, .content-wrapper {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
            font-weight: 400;
        }

        /* HEADER ESTILO ODOO */
        .main-header.navbar {
            background: linear-gradient(135deg, var(--odoo-primary) 0%, var(--odoo-primary-light) 100%) !important;
            border-bottom: 1px solid rgba(255,255,255,0.1) !important;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1) !important;
            height: 56px !important;
        }

        .main-header .navbar-nav .nav-link {
            color: rgba(255,255,255,0.9) !important;
            font-weight: 500 !important;
            padding: 8px 16px !important;
            border-radius: 6px !important;
            transition: all 0.2s ease !important;
        }

        .main-header .navbar-nav .nav-link:hover {
            background-color: rgba(255,255,255,0.1) !important;
            color: white !important;
        }

        /* SIDEBAR ESTILO ODOO PROFESIONAL */
        .main-sidebar {
            background: white !important;
            box-shadow: 2px 0 8px rgba(0,0,0,0.1) !important;
            border-right: 1px solid var(--odoo-gray-200) !important;
        }

        /* Brand link más elegante */
        .brand-link {
            background: var(--odoo-gray-50) !important;
            border-bottom: 1px solid var(--odoo-gray-200) !important;
            padding: 16px 20px !important;
            height: auto !important;
        }

        .brand-link .brand-text {
            color: var(--odoo-gray-800) !important;
            font-weight: 600 !important;
            font-size: 18px !important;
        }

        /* User panel más moderno */
        .user-panel {
            background: var(--odoo-gray-50) !important;
            border-bottom: 1px solid var(--odoo-gray-200) !important;
            margin: 0 !important;
            padding: 20px !important;
        }

        .user-panel .brand-text {
            color: var(--odoo-gray-700) !important;
            font-weight: 500 !important;
        }

        /* NAVEGACIÓN SIDEBAR ESTILO ODOO */
        .nav-sidebar {
            padding: 8px 0 !important;
        }

        .nav-sidebar .nav-header {
            color: var(--odoo-gray-600) !important;
            font-weight: 600 !important;
            font-size: 12px !important;
            text-transform: uppercase !important;
            letter-spacing: 0.5px !important;
            padding: 16px 24px 8px 24px !important;
            margin: 0 !important;
        }

        .nav-sidebar .nav-item .nav-link {
            color: var(--odoo-gray-700) !important;
            padding: 12px 24px !important;
            border-radius: 0 !important;
            border-left: 3px solid transparent !important;
            font-weight: 500 !important;
            font-size: 14px !important;
            transition: all 0.2s ease !important;
            position: relative !important;
        }

        .nav-sidebar .nav-item .nav-link:hover {
            background-color: var(--odoo-gray-100) !important;
            color: var(--odoo-primary) !important;
            border-left-color: var(--odoo-primary) !important;
        }

        .nav-sidebar .nav-item .nav-link.active {
            background-color: rgba(52, 152, 219, 0.08) !important;
            color: var(--odoo-primary) !important;
            border-left-color: var(--odoo-primary) !important;
            font-weight: 600 !important;
        }

        /* Iconos del sidebar más elegantes */
        .nav-sidebar .nav-icon {
            width: 20px !important;
            text-align: center !important;
            margin-right: 12px !important;
            font-size: 16px !important;
            color: var(--odoo-gray-500) !important;
        }

        .nav-sidebar .nav-link:hover .nav-icon,
        .nav-sidebar .nav-link.active .nav-icon {
            color: var(--odoo-primary) !important;
        }

        /* Submenús más elegantes */
        .nav-treeview {
            background-color: var(--odoo-gray-50) !important;
        }

        .nav-treeview .nav-link {
            padding-left: 60px !important;
            font-size: 13px !important;
            color: var(--odoo-gray-600) !important;
        }

        .nav-treeview .nav-link:hover {
            background-color: var(--odoo-gray-100) !important;
            color: var(--odoo-primary) !important;
        }

        /* BOTONES ESTILO ODOO */
        .btn-primary {
            background: linear-gradient(135deg, var(--odoo-primary) 0%, var(--odoo-primary-dark) 100%) !important;
            border: none !important;
            border-radius: 6px !important;
            font-weight: 500 !important;
            padding: 8px 20px !important;
            box-shadow: 0 2px 4px rgba(52, 152, 219, 0.2) !important;
            transition: all 0.2s ease !important;
        }

        .btn-primary:hover {
            transform: translateY(-1px) !important;
            box-shadow: 0 4px 8px rgba(52, 152, 219, 0.3) !important;
        }

        .btn-secondary {
            background: var(--odoo-gray-100) !important;
            color: var(--odoo-gray-700) !important;
            border: 1px solid var(--odoo-gray-300) !important;
            border-radius: 6px !important;
            font-weight: 500 !important;
        }

        /* FORMULARIOS ESTILO ODOO */
        .form-control {
            border: 1px solid var(--odoo-gray-300) !important;
            border-radius: 6px !important;
            padding: 10px 12px !important;
            font-size: 14px !important;
            transition: all 0.2s ease !important;
        }

        .form-control:focus {
            border-color: var(--odoo-primary) !important;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1) !important;
        }

        /* CARDS Y CONTENIDO */
        .card {
            border: 1px solid var(--odoo-gray-200) !important;
            border-radius: 8px !important;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06) !important;
        }

        .card-header {
            background: var(--odoo-gray-50) !important;
            border-bottom: 1px solid var(--odoo-gray-200) !important;
            padding: 16px 20px !important;
            font-weight: 600 !important;
            color: var(--odoo-gray-800) !important;
        }

        .content-wrapper {
            background: var(--odoo-gray-50) !important;
        }

        /* TABLAS ESTILO ODOO */
        .table {
            border-collapse: separate !important;
            border-spacing: 0 !important;
        }

        .table thead th {
            background: var(--odoo-gray-100) !important;
            color: var(--odoo-gray-700) !important;
            font-weight: 600 !important;
            border-bottom: 2px solid var(--odoo-gray-200) !important;
            padding: 12px 16px !important;
        }

        .table tbody td {
            padding: 12px 16px !important;
            border-bottom: 1px solid var(--odoo-gray-200) !important;
        }

        /* DROPDOWNS ESTILO ODOO */
        .dropdown-menu {
            border: 1px solid var(--odoo-gray-200) !important;
            border-radius: 8px !important;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1) !important;
            padding: 8px 0 !important;
        }

        .dropdown-item {
            padding: 8px 16px !important;
            font-size: 14px !important;
            color: var(--odoo-gray-700) !important;
            transition: all 0.2s ease !important;
        }

        .dropdown-item:hover {
            background-color: var(--odoo-gray-100) !important;
            color: var(--odoo-primary) !important;
        }

        /* BREADCRUMBS ESTILO ODOO */
        .breadcrumb {
            background: transparent !important;
            padding: 0 !important;
            margin: 0 0 16px 0 !important;
        }

        .breadcrumb-item {
            color: var(--odoo-gray-600) !important;
            font-size: 14px !important;
        }

        .breadcrumb-item.active {
            color: var(--odoo-gray-800) !important;
            font-weight: 500 !important;
        }

        /* FOOTER ESTILO ODOO */
        .main-footer {
            background: white !important;
            border-top: 1px solid var(--odoo-gray-200) !important;
            color: var(--odoo-gray-600) !important;
            font-size: 13px !important;
        }

        /* ALERTAS ESTILO ODOO */
        .alert {
            border-radius: 8px !important;
            border: none !important;
            padding: 12px 16px !important;
        }

        .alert-info {
            background: rgba(52, 152, 219, 0.1) !important;
            color: var(--odoo-primary-dark) !important;
        }

        .alert-success {
            background: rgba(40, 167, 69, 0.1) !important;
            color: #155724 !important;
        }

        /* BADGES ESTILO ODOO */
        .badge {
            border-radius: 12px !important;
            font-weight: 500 !important;
            padding: 4px 8px !important;
        }

        .badge-primary {
            background: var(--odoo-primary) !important;
        }

        /* PAGINACIÓN ESTILO ODOO */
        .page-link {
            border: 1px solid var(--odoo-gray-300) !important;
            color: var(--odoo-gray-700) !important;
            padding: 8px 12px !important;
        }

        .page-item.active .page-link {
            background: var(--odoo-primary) !important;
            border-color: var(--odoo-primary) !important;
        }

        /* MODALES ESTILO ODOO */
        .modal-content {
            border-radius: 12px !important;
            border: none !important;
            box-shadow: 0 8px 32px rgba(0,0,0,0.15) !important;
        }

        .modal-header {
            background: var(--odoo-gray-50) !important;
            border-bottom: 1px solid var(--odoo-gray-200) !important;
            border-radius: 12px 12px 0 0 !important;
        }

        /* MEJORAS RESPONSIVE */
        @media (max-width: 768px) {
            .main-sidebar {
                transform: translateX(-100%) !important;
            }

            .sidebar-open .main-sidebar {
                transform: translateX(0) !important;
            }
        }

        /* ANIMACIONES SUAVES */
        * {
            transition: color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease !important;
        }

        /* SCROLLBAR PERSONALIZADO */
        .sidebar::-webkit-scrollbar {
            width: 6px;
        }

        .sidebar::-webkit-scrollbar-track {
            background: var(--odoo-gray-100);
        }

        .sidebar::-webkit-scrollbar-thumb {
            background: var(--odoo-gray-400);
            border-radius: 3px;
        }

        .sidebar::-webkit-scrollbar-thumb:hover {
            background: var(--odoo-gray-500);
        }

        /* ===== ESTILOS DATATABLES MEJORADOS ===== */

        /* Integración de estilos existentes con mejoras Odoo */
        .table-bordered {
            border: 1px solid var(--odoo-gray-200) !important;
            border-radius: 8px !important;
            overflow: hidden !important;
        }

        .table-bordered > thead > tr > th {
            border: 0 !important;
            border-bottom: 2px solid var(--odoo-gray-200) !important;
            background: var(--odoo-gray-100) !important;
            color: var(--odoo-gray-700) !important;
            font-weight: 600 !important;
            font-size: 12px !important;
            padding: 8px 12px !important;
        }

        table.table-bordered.dataTable tbody td {
            border-bottom: 1px solid var(--odoo-gray-200) !important;
            border-right: 1px solid var(--odoo-gray-200) !important;
            font-size: 13px !important;
            padding: 8px 12px !important;
            color: var(--odoo-gray-700) !important;
        }

        table.table-bordered.dataTable tbody td:last-child {
            border-right: none !important;
        }

        .table-bordered > tbody > tr > td {
            border: 0 !important;
            border-bottom: 1px solid var(--odoo-gray-200) !important;
            font-size: 13px !important;
            padding: 8px 12px !important;
        }

        /* Tamaños de tabla responsivos */
        .table-sm th, .table-sm td {
            padding: 6px 10px !important;
            font-size: 12px !important;
        }

        .table-md th, .table-md td {
            padding: 8px 12px !important;
            font-size: 13px !important;
        }

        .table-lg th, .table-lg td {
            padding: 10px 14px !important;
            font-size: 14px !important;
        }

        /* DataTables wrapper mejorado */
        .dataTables_wrapper {
            font-size: 13px !important;
        }

        .dataTables_wrapper .dataTables_length,
        .dataTables_wrapper .dataTables_filter,
        .dataTables_wrapper .dataTables_info,
        .dataTables_wrapper .dataTables_paginate {
            font-size: 12px !important;
            color: var(--odoo-gray-600) !important;
        }

        .dataTables_wrapper .dataTables_length select,
        .dataTables_wrapper .dataTables_filter input {
            font-size: 12px !important;
            padding: 4px 8px !important;
            border: 1px solid var(--odoo-gray-300) !important;
            border-radius: 4px !important;
        }

        /* Paginación DataTables estilo Odoo */
        .dataTables_wrapper .dataTables_paginate .paginate_button {
            padding: 4px 8px !important;
            margin: 0 2px !important;
            border: 1px solid var(--odoo-gray-300) !important;
            border-radius: 4px !important;
            font-size: 12px !important;
            color: var(--odoo-gray-700) !important;
            background: white !important;
        }

        .dataTables_wrapper .dataTables_paginate .paginate_button:hover {
            background: var(--odoo-gray-100) !important;
            border-color: var(--odoo-gray-400) !important;
        }

        .dataTables_wrapper .dataTables_paginate .paginate_button.current {
            background: var(--odoo-primary) !important;
            border-color: var(--odoo-primary) !important;
            color: white !important;
        }

        /* Scroll horizontal mejorado */
        .dataTables_scroll {
            overflow: auto !important;
            border: 1px solid var(--odoo-gray-200) !important;
            border-radius: 8px !important;
        }

        /* Headers de tabla mejorados - AZUL AUTOMÁTICO PARA DATATABLES */
        .table thead tr {
            background: var(--odoo-gray-100) !important;
            color: var(--odoo-gray-700) !important;
        }

        .table thead th {
            border-top-width: 0 !important;
            border-bottom: 2px solid var(--odoo-gray-200) !important;
            font-weight: 600 !important;
            font-size: 12px !important;
            text-transform: uppercase !important;
            letter-spacing: 0.5px !important;
        }

        /* ===== DATATABLES - HEADERS AZULES AUTOMÁTICOS - FORZADO ===== */

/* Todos los headers de DataTables - Máxima especificidad */
table.dataTable thead,
table.dataTable thead tr,
.dataTables_wrapper table.dataTable thead,
.dataTables_wrapper table.dataTable thead tr,
.table-bordered > thead,
table.table-bordered.dataTable thead,
table.table-bordered.dataTable thead tr,
.content-wrapper table thead,
.content-wrapper table thead tr,
.card-body table thead,
.card-body table thead tr {
    background: #3498DB !important;
    background-color: #3498DB !important;
    border-bottom: none !important;
    border-top: none !important;
}

/* Todos los TH de headers de DataTables */
table.dataTable thead th,
table.dataTable thead tr th,
.dataTables_wrapper table.dataTable thead th,
.dataTables_wrapper table.dataTable thead tr th,
.table-bordered > thead > tr > th,
table.table-bordered.dataTable thead th,
table.table-bordered.dataTable thead tr th,
.content-wrapper table thead th,
.content-wrapper table thead tr th,
.card-body table thead th,
.card-body table thead tr th,
.table thead th,
.table thead tr th {
    background: #3498DB !important;
    background-color: #3498DB !important;
    color: white !important;
    border-bottom: none !important;
    border-top: none !important;
    border-left: none !important;
    border-right: none !important;
    font-weight: 600 !important;
    font-size: 12px !important;
    text-transform: uppercase !important;
    letter-spacing: 0.5px !important;
    padding: 12px 16px !important;
}

/* Hover en headers de DataTables */
table.dataTable thead th:hover,
table.dataTable thead tr th:hover,
.dataTables_wrapper table.dataTable thead th:hover,
.dataTables_wrapper table.dataTable thead tr th:hover,
.table-bordered > thead > tr > th:hover,
table.table-bordered.dataTable thead th:hover,
.content-wrapper table thead th:hover,
.card-body table thead th:hover,
.table thead th:hover {
    background: #2980B9 !important;
    background-color: #2980B9 !important;
    color: white !important;
    border: none !important;
}

/* Sorting en DataTables con fondo azul */
table.dataTable thead .sorting,
table.dataTable thead .sorting_asc,
table.dataTable thead .sorting_desc,
table.dataTable thead .sorting_asc_disabled,
table.dataTable thead .sorting_desc_disabled,
.dataTables_wrapper table.dataTable thead .sorting,
.dataTables_wrapper table.dataTable thead .sorting_asc,
.dataTables_wrapper table.dataTable thead .sorting_desc {
    background: #3498DB !important;
    background-color: #3498DB !important;
    color: white !important;
    border: none !important;
}

table.dataTable thead .sorting:hover,
table.dataTable thead .sorting_asc:hover,
table.dataTable thead .sorting_desc:hover,
.dataTables_wrapper table.dataTable thead .sorting:hover,
.dataTables_wrapper table.dataTable thead .sorting_asc:hover,
.dataTables_wrapper table.dataTable thead .sorting_desc:hover {
    background: #2980B9 !important;
    background-color: #2980B9 !important;
    color: white !important;
    border: none !important;
}

/* Iconos de sorting en blanco */
table.dataTable thead .sorting:after,
table.dataTable thead .sorting_asc:after,
table.dataTable thead .sorting_desc:after,
table.dataTable thead .sorting:before,
table.dataTable thead .sorting_asc:before,
table.dataTable thead .sorting_desc:before {
    color: white !important;
    opacity: 0.8 !important;
}

/* Forzar estilos en cualquier tabla dentro del content-wrapper */
.content-wrapper .table thead,
.content-wrapper .table thead tr,
.content-wrapper .table thead th,
.content-wrapper table thead,
.content-wrapper table thead tr,
.content-wrapper table thead th {
    background: #3498DB !important;
    background-color: #3498DB !important;
    color: white !important;
    border: none !important;
}

/* ELIMINAR COMPLETAMENTE CUALQUIER LÍNEA DEBAJO DE HEADERS */
table.dataTable,
.dataTables_wrapper table.dataTable,
.table-bordered,
table.table-bordered.dataTable {
    border-collapse: separate !important;
    border-spacing: 0 !important;
}

/* Eliminar bordes de la tabla completa */
table.dataTable thead tr:after,
table.dataTable thead:after,
.dataTables_wrapper table.dataTable thead tr:after,
.dataTables_wrapper table.dataTable thead:after {
    display: none !important;
}

/* Eliminar cualquier pseudo-elemento que pueda crear líneas */
table.dataTable thead tr::after,
table.dataTable thead::after,
.dataTables_wrapper table.dataTable thead tr::after,
.dataTables_wrapper table.dataTable thead::after {
    content: none !important;
    display: none !important;
}

        /* ===== BOTONES CORREGIDOS ===== */

        /* Botones primarios */
        .btn-primary,
        .content-wrapper .btn-primary,
        .card-body .btn-primary {
            background: linear-gradient(135deg, #3498DB 0%, #2980B9 100%) !important;
            background-color: #3498DB !important;
            border: none !important;
            border-color: #3498DB !important;
            color: white !important;
            border-radius: 6px !important;
            font-weight: 500 !important;
            padding: 8px 20px !important;
            box-shadow: 0 2px 4px rgba(52, 152, 219, 0.2) !important;
            transition: all 0.2s ease !important;
        }

        .btn-primary:hover,
        .content-wrapper .btn-primary:hover,
        .card-body .btn-primary:hover {
            background: linear-gradient(135deg, #2980B9 0%, #1f5f8b 100%) !important;
            background-color: #2980B9 !important;
            border-color: #2980B9 !important;
            color: white !important;
            transform: translateY(-1px) !important;
            box-shadow: 0 4px 8px rgba(52, 152, 219, 0.3) !important;
        }

        .btn-primary:focus,
        .btn-primary:active,
        .content-wrapper .btn-primary:focus,
        .content-wrapper .btn-primary:active {
            background: #2980B9 !important;
            background-color: #2980B9 !important;
            border-color: #2980B9 !important;
            color: white !important;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.25) !important;
        }

        /* Botones secundarios */
        .btn-secondary,
        .content-wrapper .btn-secondary,
        .card-body .btn-secondary {
            background: #6c757d !important;
            background-color: #6c757d !important;
            border: 1px solid #6c757d !important;
            border-color: #6c757d !important;
            color: white !important;
            border-radius: 6px !important;
            font-weight: 500 !important;
        }

        .btn-secondary:hover,
        .content-wrapper .btn-secondary:hover,
        .card-body .btn-secondary:hover {
            background: #5a6268 !important;
            background-color: #5a6268 !important;
            border-color: #5a6268 !important;
            color: white !important;
        }

        /* Botones de éxito */
        .btn-success,
        .content-wrapper .btn-success,
        .card-body .btn-success {
            background: #28a745 !important;
            background-color: #28a745 !important;
            border: 1px solid #28a745 !important;
            border-color: #28a745 !important;
            color: white !important;
            border-radius: 6px !important;
            font-weight: 500 !important;
        }

        .btn-success:hover,
        .content-wrapper .btn-success:hover,
        .card-body .btn-success:hover {
            background: #218838 !important;
            background-color: #218838 !important;
            border-color: #218838 !important;
            color: white !important;
        }

        /* Botones de peligro */
        .btn-danger,
        .content-wrapper .btn-danger,
        .card-body .btn-danger {
            background: #dc3545 !important;
            background-color: #dc3545 !important;
            border: 1px solid #dc3545 !important;
            border-color: #dc3545 !important;
            color: white !important;
            border-radius: 6px !important;
            font-weight: 500 !important;
        }

        .btn-danger:hover,
        .content-wrapper .btn-danger:hover,
        .card-body .btn-danger:hover {
            background: #c82333 !important;
            background-color: #c82333 !important;
            border-color: #c82333 !important;
            color: white !important;
        }

        /* Botones de advertencia */
        .btn-warning,
        .content-wrapper .btn-warning,
        .card-body .btn-warning {
            background: #ffc107 !important;
            background-color: #ffc107 !important;
            border: 1px solid #ffc107 !important;
            border-color: #ffc107 !important;
            color: #212529 !important;
            border-radius: 6px !important;
            font-weight: 500 !important;
        }

        .btn-warning:hover,
        .content-wrapper .btn-warning:hover,
        .card-body .btn-warning:hover {
            background: #e0a800 !important;
            background-color: #e0a800 !important;
            border-color: #e0a800 !important;
            color: #212529 !important;
        }

        /* Botones de información */
        .btn-info,
        .content-wrapper .btn-info,
        .card-body .btn-info {
            background: #17a2b8 !important;
            background-color: #17a2b8 !important;
            border: 1px solid #17a2b8 !important;
            border-color: #17a2b8 !important;
            color: white !important;
            border-radius: 6px !important;
            font-weight: 500 !important;
        }

        .btn-info:hover,
        .content-wrapper .btn-info:hover,
        .card-body .btn-info:hover {
            background: #138496 !important;
            background-color: #138496 !important;
            border-color: #138496 !important;
            color: white !important;
        }

        /* Botones outline */
        .btn-outline-primary,
        .content-wrapper .btn-outline-primary {
            color: #3498DB !important;
            border-color: #3498DB !important;
            background: transparent !important;
        }

        .btn-outline-primary:hover,
        .content-wrapper .btn-outline-primary:hover {
            background: #3498DB !important;
            background-color: #3498DB !important;
            border-color: #3498DB !important;
            color: white !important;
        }

        /* ===== OCULTAR MENSAJES DE DATATABLES VACÍAS ===== */

/* ===== MOSTRAR MENSAJE "SIN RESULTADOS" CUANDO NO HAY DATOS ===== */

/* Mostrar mensaje "Sin resultados" cuando la tabla está vacía */
.dataTables_empty,
table.dataTable tbody .dataTables_empty,
.dataTables_wrapper .dataTables_empty,
td.dataTables_empty {
    display: table-cell !important;
    text-align: center !important;
    color: var(--odoo-gray-500) !important;
    font-style: italic !important;
    padding: 20px !important;
}

/* Mostrar información cuando no hay datos */
.dataTables_wrapper .dataTables_info {
    display: block !important;
}
    </style>

    {% block head %}
    {% endblock %}

</head>

<body class="hold-transition sidebar-mini layout-fixed">
<div class="wrapper">
    <!-- Navbar -->
    <nav class="main-header navbar navbar-expand navbar-white navbar-light">
        <!-- Left navbar links -->
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link cursor-pointer collapsedMenu" id="collapsedMenu" data-widget="pushmenu"
                   role="button"><i class="fas fa-bars"></i></a>
            </li>
            <li class="nav-item d-none d-sm-inline-block">
                <a href="{% url 'inicio_dashboard' %}" class="nav-link"><strong>Inicio</strong></a>
            </li>
        </ul>

        <!-- Right navbar links -->
        <ul class="navbar-nav ml-auto">
            <!-- Messages Dropdown Menu -->
            <li class="nav-item dropdown">

                <!-- La IP direccion -->
            <li class="nav-item">
                <a class="nav-link" data-toggle="tooltip" data-placement="bottom" data-html="true">
                </a>
            </li>

            <a class="nav-link" data-toggle="dropdown" href="#">
                <strong><i class="fas fa-users-cog"></i>&nbsp;&nbsp;{{ request.user.username }}
                </strong>
            </a>
            <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                    <span class="dropdown-header">
                        Último acceso:<br>
                        {{ request.user.last_login }}
                    </span>
                <div class="dropdown-divider"></div>
                <a href="#" class="dropdown-item">
                    <i class="fas fa-edit mr-2"></i> Editar perfil
                </a>
                <div class="dropdown-divider"></div>
                <a href="#" class="dropdown-item">
                    <i class="fas fa-lock mr-2"></i> Cambiar contraseña
                </a>
                <div class="dropdown-divider"></div>
                <a href="#" class="dropdown-item dropdown-footer">
                    <strong>PSM & BIO</strong> - Sistema de Producción
                </a>
            </div>
            </li>

            <li class="nav-item dropdown">
                <a class="nav-link" data-toggle="dropdown" href="#">
                    <strong><i class="nav-icon fas fa-power-off"></i></strong>
                </a>
                <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                    <a href="{% url 'logout' %}" class="dropdown-item dropdown-footer">
                        <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
                    </a>
                </div>
            </li>
        </ul>
    </nav>

    <aside class="main-sidebar sidebar-light-lightblue elevation-4">
        <!-- Brand Logo -->
        <a href="#" class="brand-link">
            <img src="{% static 'img/img_empresa/LOGO2.png' %}" class="brand-image img-circle elevation-3" style="opacity: .8; width: 50px; height: 45px;">
            <span class="brand-text"><span id="empresa-sidebar-title">PSM & BIO</span></span>
        </a>

        <div class="sidebar">
            <!-- Sidebar user panel (optional) -->
            <div class="user-panel mt-3 pb-3 mb-3 d-flex">
                <div class="image text-center">
                    <img id="logo-empresa-sidebar" src="{% static 'img/img_empresa/logo_slider-png.png' %}"
                         class="img-fluid img-responsive d-block mx-auto text-center"
                         style="width: 180px; height: 110px; border-radius: 8px;" alt="User Image">
                    <div class="brand-text font-weight-light" style="margin-top: 12px;">
                        <h6><strong>{{ request.user.first_name }} {{ request.user.last_name }}</strong></h6>
                    </div>
                </div>
            </div>

            <nav class="mt-2">

                <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu"
                    data-accordion="false">
                    <!-- Add icons to the links using the .nav-icon class with font-awesome or any other icon font library -->
                    <li class="nav-header"><span id="menu-title-sidebar">PSM & BIO</span> - Menú Principal</li>
                    <!-- Modulo Dashboard -->
                    <li class="nav-item has-treeview">
                        <a href="{% url 'inicio_dashboard' %}" class="nav-link active">
                            <i class="nav-icon fas fa-tachometer-alt"></i>
                            <p>Dashboard</p>
                        </a>
                    </li>
                    <!-- Modulo Inventario -->
                    <li class="nav-item has-treeview">
                        <a href="#" class="nav-link">
                            <i class="nav-icon fa fa-sitemap"></i>
                            <p>Inventario<i class="fas fa-angle-left right"></i></p>
                        </a>
                        <ul class="nav nav-treeview">
                            <li class="nav-item">
                                <a href="{% url 'app_categoria:listar_categoria' %}" class="nav-link"><i
                                        class="far nav-icon fa fa-archive"></i>
                                    <p>Categorías</p></a>
                            </li>
                            <li class="nav-item">
                                <a href="{% url 'app_categoria:listar_producto' %}" class="nav-link"><i
                                        class="far nav-icon fa fa-cubes"></i>
                                    <p>Productos</p></a>
                            </li>
                        </ul>
                    </li>
                    <!-- Modulo Insumos Balanceados -->
                    <li class="nav-item has-treeview">
                        <a href="#" class="nav-link">
                            <i class="nav-icon fas fa-boxes"></i>
                            <p>Insumos Balanceado<i class="fas fa-angle-left right"></i></p>
                        </a>
                        <ul class="nav nav-treeview">
                            <li class="nav-item psm-item">
                                <a href="{% url 'app_stock:listar_stock_psm' %}" class="nav-link"><i
                                        class="far nav-icon fa fa-cube"></i>
                                    <p>Insumos PSM</p></a>
                            </li>
                            <li class="nav-item bio-item">
                                <a href="{% url 'app_stock:listar_stock_bio' %}" class="nav-link"><i
                                        class="far nav-icon fa fa-cube"></i>
                                    <p>Insumos BIO</p></a>
                            </li>
                            <li class="nav-item both-item">
                                <a href="{% url 'app_stock:listar_stock_psmybio' %}" class="nav-link"><i
                                        class="far nav-icon fa fa-cube"></i>
                                    <p>Insumos de Empresas</p></a>
                            </li>
                        </ul>
                    </li>
                    <!-- Modulo Insumos de Campo -->
                    <li class="nav-item has-treeview">
                        <a href="#" class="nav-link">
                            <i class="nav-icon fas fa-boxes"></i>
                            <p>Insumos Campo<i class="fas fa-angle-left right"></i></p>
                        </a>
                        <ul class="nav nav-treeview">
                            <li class="nav-item psm-item">
                                <a href="{% url 'app_stock_directo:listar_stock_directo_psm' %}" class="nav-link"><i
                                        class="far nav-icon fa fa-cube"></i>
                                    <p>Insumos PSM</p></a>
                            </li>
                            <li class="nav-item bio-item">
                                <a href="{% url 'app_stock_directo:listar_stock_directo_bio' %}" class="nav-link"><i
                                        class="far nav-icon fa fa-cube"></i>
                                    <p>Insumos BIO</p></a>
                            </li>

                        </ul>
                    </li>
                    <!-- Modulo Consumo por Piscinas -->
                    <li class="nav-item has-treeview">
                        <a href="#" class="nav-link">
                            <i class="nav-icon fas fa-chart-line"></i>
                            <p>Consumo por Piscinas<i class="fas fa-angle-left right"></i></p>
                        </a>
                        <ul class="nav nav-treeview">
                            <li class="nav-item">
                                <a href="{% url 'app_consumo:listar_consumo' %}" class="nav-link"><i
                                        class="nav-icon fas fa-list-alt"></i>
                                    <p>Detalles de Consumo</p></a>
                            </li>
                        </ul>
                        <ul class="nav nav-treeview">
                            <li class="nav-item">
                                <a href="{% url 'app_consumo:listar_consumo_general' %}" class="nav-link"><i
                                        class="nav-icon fas fa-list-alt"></i>
                                    <p>Conglomerado Consumo</p></a>
                            </li>
                        </ul>
                        <ul class="nav nav-treeview">
                            <li class="nav-item">
                                <a href="{% url 'app_consumo:listar_resumen_general' %}" class="nav-link"><i
                                        class="nav-icon fas fa-list-alt"></i>
                                    <p>Resumen General Consumo</p></a>
                            </li>
                        </ul>
                        <ul class="nav nav-treeview">
                            <li class="nav-item psm-item">
                                <a href="{% url 'app_consumo:listar_resumen_general_psm' %}" class="nav-link"><i
                                        class="nav-icon fas fa-list-alt"></i>
                                    <p>Resumen PSM Consumo</p></a>
                            </li>
                        </ul>
                        <ul class="nav nav-treeview">
                            <li class="nav-item bio-item">
                                <a href="{% url 'app_consumo:listar_resumen_general_bio' %}" class="nav-link"><i
                                        class="nav-icon fas fa-list-alt"></i>
                                    <p>Resumen BIO Consumo</p></a>
                            </li>
                        </ul>
                    </li>
                    <!-- Modulo Consumo por Linea -->
                    <li class="nav-item has-treeview psm-item">
                        <a href="#" class="nav-link">
                            <i class="nav-icon fas fa-chart-line"></i>
                            <p>Consumo por Línea<i class="fas fa-angle-left right"></i></p>
                        </a>
                        <ul class="nav nav-treeview">
                            <li class="nav-item">
                                <a href="{% url 'app_consumo:listar_resumen_general_psm_linea' %}" class="nav-link"><i
                                        class="nav-icon fas fa-list-alt"></i>
                                    <p>Consumo PSM </p></a>
                            </li>
                        </ul>
                    </li>
                    <!-- Modulo Corrida -->
                    <li class="nav-item has-treeview">
                        <a href="#" class="nav-link">
                            <i class="nav-icon fas fa-clipboard-check"></i>
                            <p>Corridas<i class="fas fa-angle-left right"></i></p>
                        </a>
                        <ul class="nav nav-treeview">
                            <li class="nav-item">
                                <a href="{% url 'app_corrida:listar_siembra_cuant' %}" class="nav-link"><i
                                        class="nav-icon fas fa-list-alt"></i>
                                    <p>Siembras de Precrias</p></a>
                            </li>
                            <li class="nav-item">
                                <a href="{% url 'app_corrida:listar_transferencia' %}" class="nav-link"><i
                                        class="nav-icon fas fa-list-alt"></i>
                                    <p>Transferencia</p></a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link"><i
                                        class="nav-icon fas fa-list-alt"></i>
                                    <p>Desarrollo</p></a>
                            </li>
                        </ul>
                    </li>
                    <!-- Modulo Empresa -->
                    <li class="nav-item has-treeview">
                        <a href="#" class="nav-link">
                            <i class="nav-icon fas fa-building"></i>
                            <p>Empresa<i class="fas fa-angle-left right"></i></p>
                        </a>
                        <ul class="nav nav-treeview">
                            <li class="nav-item">
                                <a href="{% url 'app_empresa:listar_empresa' %}" class="nav-link"><i
                                        class="far fa-dot-circle nav-icon"></i>
                                    <p>Ver Detalles</p></a>
                            </li>
                            <li class="nav-item">
                                <a href="{% url 'app_empresa:listar_piscinas' %}" class="nav-link"><i
                                        class="far fa-dot-circle nav-icon"></i>
                                    <p>Asignar Piscinas</p></a>
                            </li>
                        </ul>
                    </li>
                    <!-- Modulo Proveedor -->
                    <li class="nav-item has-treeview">
                        <a href="#" class="nav-link">
                            <i class="nav-icon fas fa-truck"></i>
                            <p>Proveedor<i class="fas fa-angle-left right"></i></p>
                        </a>
                        <ul class="nav nav-treeview">
                            <li class="nav-item">
                                <a href="{% url 'app_proveedor:listar_proveedor' %}" class="nav-link"><i
                                        class="far fa-dot-circle nav-icon"></i>
                                    <p>Ver Detalles</p></a>
                            </li>
                        </ul>
                    </li>
                    <!-- Modulo Dieta Piscina-->
                    <li class="nav-item has-treeview">
                        <a href="#" class="nav-link">
                            <i class="nav-icon fas fa-list-alt"></i>
                            <p>Dieta Piscinas<i class="fas fa-angle-left right"></i></p>
                        </a>
                        <ul class="nav nav-treeview">
                            <li class="nav-item">
                                <a href="{% url 'app_dieta:principal_anio' %}" class="nav-link"><i
                                        class="far fa-dot-circle nav-icon"></i>
                                    <p>Crear Dietas Piscinas</p></a>
                            </li>
                            <li class="nav-item">
                                <a href="{% url 'app_dieta:listar_descripcion_dieta' %}" class="nav-link"><i
                                        class="far fa-dot-circle nav-icon"></i>
                                    <p>Escaneado - Dietas</p></a>
                            </li>
                        </ul>
                    </li>
                    <!-- Modulo Dieta Precria-->
                    <li class="nav-item has-treeview">
                        <a href="#" class="nav-link">
                            <i class="nav-icon fas fa-list-alt"></i>
                            <p>Dieta Precrias<i class="fas fa-angle-left right"></i></p>
                        </a>
                        <ul class="nav nav-treeview">
                            <li class="nav-item">
                                <a href="{% url 'app_dieta:principal_anio_prec' %}" class="nav-link"><i
                                        class="far fa-dot-circle nav-icon"></i>
                                    <p>Crear Dietas Precrias</p></a>
                            </li>
                            <li class="nav-item">
                                <a href="{% url 'app_dieta:listar_descripcion_dieta' %}" class="nav-link"><i
                                        class="far fa-dot-circle nav-icon"></i>
                                    <p>Escaneado - Dietas</p></a>
                            </li>
                        </ul>
                    </li>
                    <!-- Modulo Facturas Compra -->
                    <li class="nav-item has-treeview">
                        <a href="#" class="nav-link">
                            <i class="nav-icon fa fa-clipboard-check"></i>
                            <p>Compras<i class="fas fa-angle-left right"></i></p>
                        </a>
                        <ul class="nav nav-treeview">
                            <li class="nav-item">
                                <a href="{% url 'app_factura:listar_factura' %}" class="nav-link"><i
                                        class="nav-icon fas fa-list-alt"></i>
                                    <p>Factura de Producto</p></a>
                            </li>
                            <li class="nav-item">
                                <a href="{% url 'app_planCuentas:listar_fact_gasto_psm' %}" class="nav-link"><i
                                        class="nav-icon fas fa-list-alt"></i>
                                    <p>Factura de Gasto</p></a>
                            </li>
                        </ul>
                    </li>
                    <!-- Modulo Kardex -->
                    <li class="nav-item has-treeview">
                        <a href="#" class="nav-link">
                            <i class="nav-icon fa fa-book"></i>
                            <p>Kardex<i class="fas fa-angle-left right"></i></p>
                        </a>
                        <ul class="nav nav-treeview">
                            <li class="nav-item">
                                <a href="{% url 'app_kardex:listar_kardex_general' %}" class="nav-link"><i
                                        class="nav-icon fas fa-list-alt"></i>
                                    <p>Kardex General</p></a>
                            </li>
                            <li class="nav-item">
                                <a href="{% url 'app_kardex:listar_kardex_detallado' %}" class="nav-link"><i
                                        class="nav-icon fas fa-list-alt"></i>
                                    <p>Kardex Detallado </p></a>
                            </li>
                            <li class="nav-item psm-item">
                                <a href="{% url 'app_kardex:listar_kardex_movimientos_psm' %}" class="nav-link"><i
                                        class="nav-icon fas fa-list-alt"></i>
                                    <p>Kardex Movimientos PSM </p></a>
                            </li>
                            <li class="nav-item bio-item">
                                <a href="{% url 'app_kardex:listar_kardex_movimientos_bio' %}" class="nav-link"><i
                                        class="nav-icon fas fa-list-alt"></i>
                                    <p>Kardex Movimientos BIO </p></a>
                            </li>
                            <li class="nav-item">
                                <a href="{% url 'app_kardex:listar_kardex_productos' %}" class="nav-link"><i
                                        class="nav-icon fas fa-list-alt"></i>
                                    <p>Kardex Productos </p></a>
                            </li>
                        </ul>
                    </li>
                    <!-- Modulo Clientes -->
                    <li class="nav-item has-treeview">
                        <a href="#" class="nav-link">
                            <i class="nav-icon fa fa-clipboard-check"></i>
                            <p>Clientes<i class="fas fa-angle-left right"></i></p>
                        </a>
                        <ul class="nav nav-treeview">
                            <li class="nav-item">
                                <a href="{% url 'app_cliente:listar_cliente' %}" class="nav-link"><i
                                        class="nav-icon fas fa-list-alt"></i>
                                    <p>Ver Clientes</p></a>
                            </li>
                        </ul>
                    </li>

                    {% if request.user.is_superuser == True %}

                        <!-- Barra que divide campo Administracion-->
                        <li class="nav-header">Administración</li>
                        <!-- Modulo Contabilidad -->
                        <li class="nav-item has-treeview">
                            <a href="#" class="nav-link">
                                <i class="nav-icon fas fa-calculator"></i>
                                <p>Contabilidad<i class="fas fa-angle-left right"></i></p>
                            </a>
                            <ul class="nav nav-treeview">
                                <li class="nav-item has-treeview">
                                    <a href="#" class="nav-link"><i class="fa fa-book-open nav-icon"></i>
                                        <p>Planes de Cuentas<i class="right fas fa-angle-left"></i></p></a>
                                    <ul class="nav nav-treeview">
                                        <li class="nav-item bio-item">
                                            <a href="{% url 'app_planCuentas:listar_planCuenta_BIO' %}"
                                               class="nav-link">
                                                <i class="far fa-dot-circle nav-icon"></i>
                                                <p>Plan Cuentas BIO</p></a>
                                        </li>
                                        <li class="nav-item psm-item">
                                            <a href="{% url 'app_planCuentas:listar_planCuenta_PSM' %}"
                                               class="nav-link">
                                                <i class="far fa-dot-circle nav-icon"></i>
                                                <p>Plan Cuentas PSM</p></a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="nav-item has-treeview">
                                    <a href="#" class="nav-link"><i class="fa fa-list nav-icon"></i>
                                        <p>Transacciones sin ATS<i class="right fas fa-angle-left"></i></p></a>
                                    <ul class="nav nav-treeview">
                                        <li class="nav-item bio-item">
                                            <a href="{% url 'app_planCuentas:listar_transaccionPlan_bio' %}"
                                               class="nav-link">
                                                <i class="fa fa-book nav-icon"></i>
                                                <p>Transacción BIO</p></a>
                                        </li>
                                        <li class="nav-item psm-item">
                                            <a href="{% url 'app_planCuentas:listar_transaccionPlan' %}"
                                               class="nav-link">
                                                <i class="fa fa-book nav-icon"></i>
                                                <p>Transacción PSM</p></a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="nav-item has-treeview">
                                    <a href="#" class="nav-link"><i class="fa fa-list nav-icon"></i>
                                        <p>Transacciones con ATS<i class="right fas fa-angle-left"></i></p></a>
                                    <ul class="nav nav-treeview">
                                        <li class="nav-item bio-item">
                                            <a href="{% url 'app_planCuentas:listar_fact_gasto_bio' %}"
                                               class="nav-link">
                                                <i class="fa fa-book-reader nav-icon"></i>
                                                <p>Transacción BIO</p></a>
                                        </li>
                                        <li class="nav-item psm-item">
                                            <a href="{% url 'app_planCuentas:listar_fact_gasto_psm' %}"
                                               class="nav-link">
                                                <i class="fa fa-book-reader nav-icon"></i>
                                                <p>Transacción PSM</p></a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="nav-item has-treeview">
                                    <a href="#" class="nav-link"><i class="fa fa-book nav-icon"></i>
                                        <p>Mayores<i class="right fas fa-angle-left"></i></p></a>
                                    <ul class="nav nav-treeview">
                                        <li class="nav-item bio-item">
                                            <a href="{% url 'app_planCuentas:listar_mayorPlan_bio' %}" class="nav-link">
                                                <i class="fa fa-book-reader nav-icon"></i>
                                                <p>Mayores de BIO</p></a>
                                        </li>
                                        <li class="nav-item psm-item">
                                            <a href="{% url 'app_planCuentas:listar_mayorPlan_psm' %}" class="nav-link">
                                                <i class="fa fa-book-reader nav-icon"></i>
                                                <p>Mayores de PSM</p></a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="nav-item has-treeview">
                                    <a href="#" class="nav-link"><i class="fas fa-balance-scale nav-icon"></i>
                                        <p>Diario General<i class="right fas fa-angle-left"></i></p></a>
                                    <ul class="nav nav-treeview">
                                        <li class="nav-item bio-item">
                                            <a href="{% url 'app_planCuentas:diario_general_acumulado_bio' %}"
                                               class="nav-link">
                                                <i class="fas fa-balance-scale-left nav-icon"></i>
                                                <p>Diario de BIO</p></a>
                                        </li>
                                        <li class="nav-item psm-item">
                                            <a href="{% url 'app_planCuentas:diario_general_acumulado_psm' %}"
                                               class="nav-link">
                                                <i class="fas fa-balance-scale-right nav-icon"></i>
                                                <p>Diario de PSM</p></a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="nav-item has-treeview">
                                    <a href="#" class="nav-link"><i class="fas fa-balance-scale nav-icon"></i>
                                        <p>Balances de Comprobación<i class="right fas fa-angle-left"></i></p></a>
                                    <ul class="nav nav-treeview">
                                        <li class="nav-item bio-item">
                                            <a href="{% url 'app_planCuentas:listar_balancePlan_bio' %}"
                                               class="nav-link">
                                                <i class="fas fa-balance-scale-left nav-icon"></i>
                                                <p>Balance BIO</p></a>
                                        </li>
                                        <li class="nav-item psm-item">
                                            <a href="{% url 'app_planCuentas:listar_balancePlan_psm' %}"
                                               class="nav-link">
                                                <i class="fas fa-balance-scale-right nav-icon"></i>
                                                <p>Balance PSM</p></a>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <!-- Modulo Facturas Compra -->
                        <li class="nav-item has-treeview">
                            <a href="#" class="nav-link">
                                <i class="nav-icon fa fa-clipboard-check"></i>
                                <p>Facturación<i class="fas fa-angle-left right"></i></p>
                            </a>
                            <ul class="nav nav-treeview">
                                <li class="nav-item">
                                    <a href="{% url 'app_planCuentas:recibo_listar' %}" class="nav-link">
                                        <i class="nav-icon fas fa-file-export"></i>
                                        <p>Comprobantes</p></a>
                                </li>
                                <li class="nav-item">
                                    <a href="#" class="nav-link">
                                        <i class="nav-icon fas fa-file-archive"></i>
                                        <p>Errores de Comprob.</p></a>
                                </li>
                            </ul>
                        </li>

                        <!-- Costos y Utilidades -->
                        <li class="nav-item has-treeview">
                            <a href="#" class="nav-link"><i class="fa fa-chart-line nav-icon"></i>
                                <p>Costos y Utilidades<i class="right fas fa-angle-left"></i></p></a>
                            <ul class="nav nav-treeview">
                                <!-- Reporte de Costo-Utilidad -->
                                <li class="nav-item">
                                    <a href="{% url 'app_empresa:costo_utilidad_hectarea' %}"
                                       class="nav-link">
                                        <i class="fa fa-chart-bar nav-icon"></i>
                                        <p>Reporte Costo-Utilidad</p></a>
                                </li>

                                <!-- Tipos de Costos -->
                                <li class="nav-item has-treeview">
                                    <a href="#" class="nav-link"><i class="fa fa-tags nav-icon"></i>
                                        <p>Tipos de Costos<i class="right fas fa-angle-left"></i></p></a>
                                    <ul class="nav nav-treeview">
                                        <li class="nav-item">
                                            <a href="{% url 'app_empresa:tipo_costo_list' %}"
                                               class="nav-link">
                                                <i class="fa fa-list nav-icon"></i>
                                                <p>Listar Tipos</p></a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="{% url 'app_empresa:tipo_costo_create' %}"
                                               class="nav-link">
                                                <i class="fa fa-plus nav-icon"></i>
                                                <p>Crear Tipo</p></a>
                                        </li>
                                    </ul>
                                </li>

                                <!-- Costos Operativos -->
                                <li class="nav-item has-treeview">
                                    <a href="#" class="nav-link"><i class="fa fa-money-bill nav-icon"></i>
                                        <p>Costos Operativos<i class="right fas fa-angle-left"></i></p></a>
                                    <ul class="nav nav-treeview">
                                        <li class="nav-item">
                                            <a href="{% url 'app_empresa:costo_operativo_list' %}"
                                               class="nav-link">
                                                <i class="fa fa-list nav-icon"></i>
                                                <p>Listar Costos</p></a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="{% url 'app_empresa:costo_operativo_create' %}"
                                               class="nav-link">
                                                <i class="fa fa-plus nav-icon"></i>
                                                <p>Registrar Costo</p></a>
                                        </li>
                                    </ul>
                                </li>

                                <!-- Ciclos -->
                                <li class="nav-item has-treeview">
                                    <a href="#" class="nav-link"><i class="fa fa-sync-alt nav-icon"></i>
                                        <p>Ciclos<i class="right fas fa-angle-left"></i></p></a>
                                    <ul class="nav nav-treeview">
                                        <li class="nav-item">
                                            <a href="{% url 'app_empresa:ciclo_list' %}"
                                               class="nav-link">
                                                <i class="fa fa-list nav-icon"></i>
                                                <p>Listar Ciclos</p></a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="{% url 'app_empresa:ciclo_create' %}"
                                               class="nav-link">
                                                <i class="fa fa-plus nav-icon"></i>
                                                <p>Registrar Ciclo</p></a>
                                        </li>
                                    </ul>
                                </li>

                                <!-- Producciones -->
                                <li class="nav-item has-treeview">
                                    <a href="#" class="nav-link"><i class="fa fa-fish nav-icon"></i>
                                        <p>Producciones<i class="right fas fa-angle-left"></i></p></a>
                                    <ul class="nav nav-treeview">
                                        <li class="nav-item">
                                            <a href="{% url 'app_empresa:produccion_list' %}"
                                               class="nav-link">
                                                <i class="fa fa-list nav-icon"></i>
                                                <p>Listar Producciones</p></a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="{% url 'app_empresa:produccion_create' %}"
                                               class="nav-link">
                                                <i class="fa fa-plus nav-icon"></i>
                                                <p>Registrar Producción</p></a>
                                        </li>
                                    </ul>
                                </li>

                                <!-- Cargar Datos Iniciales -->
                                <li class="nav-item">
                                    <a href="{% url 'app_empresa:cargar_datos_iniciales' %}"
                                       class="nav-link">
                                        <i class="fa fa-database nav-icon"></i>
                                        <p>Cargar Datos Iniciales</p></a>
                                </li>
                            </ul>
                        </li>

                        <li class="nav-item has-treeview">
                            <a href="#" class="nav-link">
                                <i class="nav-icon fas fa-users"></i>
                                <p>Usuarios<i class="right fas fa-angle-left"></i></p>
                            </a>
                            <ul class="nav nav-treeview">
                                <li class="nav-item">
                                    <a href="{% url 'app_usuario:listar_usuario' %}" class="nav-link"><i
                                            class="far fa-dot-circle nav-icon"></i>
                                        <p>Crear Usuarios</p></a>
                                </li>
                            </ul>
                        </li>

                        <li class="nav-item has-treeview">
                            <a href="#" class="nav-link">
                                <i class="nav-icon fas fa-unlock-alt"></i>
                                <p>Seguridad<i class="fas fa-angle-left right"></i></p>
                            </a>
                            <ul class="nav nav-treeview">
                                <li class="nav-item">
                                    <a href="#" class="nav-link" type="button" data-toggle="modal"
                                       data-target="#modal-default"><i class="far fa-circle nav-icon"></i>
                                        <p>Permisos</p>
                                    </a>
                                </li>
                            </ul>
                        </li>

                    {% else %}

                    {% endif %}

                </ul>

            </nav>


        </div>

    </aside>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Obtener todas las tarjetas de empresa
            const empresaCards = document.querySelectorAll('.empresa-card');

            // Función para actualizar el sidebar según la empresa seleccionada
            function actualizarSidebar(empresa) {
                // Elementos del sidebar a actualizar
                const empresaSidebarTitle = document.getElementById('empresa-sidebar-title');
                const logoEmpresaSidebar = document.getElementById('logo-empresa-sidebar');
                const menuTitleSidebar = document.getElementById('menu-title-sidebar');

                // Elementos específicos de cada empresa
                const psmItems = document.querySelectorAll('.psm-item');
                const bioItems = document.querySelectorAll('.bio-item');
                const bothItems = document.querySelectorAll('.both-item');

                // Actualizar según la empresa seleccionada
                if (empresa === 'psm') {
                    // Actualizar título y logo
                    empresaSidebarTitle.textContent = 'PSM';
                    logoEmpresaSidebar.src = "{% static 'img/img_empresa/PSM.png' %}";
                    menuTitleSidebar.textContent = 'PSM';

                    // Mostrar elementos de PSM y ocultar elementos de BIO
                    psmItems.forEach(item => item.style.display = 'block');
                    bioItems.forEach(item => item.style.display = 'none');
                    bothItems.forEach(item => item.style.display = 'block');
                } else if (empresa === 'bio') {
                    // Actualizar título y logo
                    empresaSidebarTitle.textContent = 'BIO';
                    logoEmpresaSidebar.src = "{% static 'img/img_empresa/BIO.png' %}";
                    menuTitleSidebar.textContent = 'BIO';

                    // Mostrar elementos de BIO y ocultar elementos de PSM
                    bioItems.forEach(item => item.style.display = 'block');
                    psmItems.forEach(item => item.style.display = 'none');
                    bothItems.forEach(item => item.style.display = 'block');
                } else {
                    // Mostrar ambos (estado predeterminado)
                    empresaSidebarTitle.textContent = 'PSM & BIO';
                    logoEmpresaSidebar.src = "{% static 'img/img_empresa/logo_slider-png.png' %}";
                    menuTitleSidebar.textContent = 'PSM & BIO';

                    psmItems.forEach(item => item.style.display = 'block');
                    bioItems.forEach(item => item.style.display = 'block');
                    bothItems.forEach(item => item.style.display = 'block');
                }

                // Guardar la selección en localStorage para mantenerla entre páginas
                localStorage.setItem('empresaSeleccionada', empresa);
            }

            // Añadir evento de clic a cada tarjeta
            empresaCards.forEach(card => {
                card.addEventListener('click', function () {
                    // Obtener el tipo de empresa (psm o bio)
                    const empresa = this.getAttribute('data-empresa');

                    // Actualizar el sidebar
                    actualizarSidebar(empresa);

                    // Mostrar el slider correspondiente (código que ya teníamos)
                    if (document.getElementById('empresa-slider')) {
                        document.getElementById('empresa-slider').style.display = 'block';
                        document.getElementById('slider-psm').style.display = 'none';
                        document.getElementById('slider-bio').style.display = 'none';

                        if (empresa === 'psm') {
                            document.getElementById('slider-title').textContent = 'Slider de Empresa PSM';
                            document.getElementById('slider-psm').style.display = 'block';
                            $('#carouselPSM').carousel(0);
                        } else if (empresa === 'bio') {
                            document.getElementById('slider-title').textContent = 'Slider de Empresa BIO';
                            document.getElementById('slider-bio').style.display = 'block';
                            $('#carouselBIO').carousel(0);
                        }

                        document.getElementById('empresa-slider').scrollIntoView({behavior: 'smooth'});
                    }
                });
            });

            // Verificar si hay una empresa seleccionada previamente en localStorage
            const empresaGuardada = localStorage.getItem('empresaSeleccionada');
            if (empresaGuardada) {
                actualizarSidebar(empresaGuardada);
            }
        });
    </script>


    <div class="content-wrapper">

        {% block contenido %}

            <!-- AQUI VA TODO EL CONTENIDO DEL BLOQUE -->

        {% endblock %}

    </div>

    <aside class="control-sidebar control-sidebar-dark">

    </aside>

    <footer class="main-footer">
        <strong>Copyright &copy; 2022 <a href="#">PSM & BIO</a>.</strong> Derechos reservados.
        <div class="float-right d-none d-sm-inline-block"><b>Versión</b> 1.0</div>
    </footer>

</div>
<script src="{% static 'js/main.js' %}"></script>
<!-- Bootstrap -->
<script src="{% static 'lib/adminlte-3.0.4/plugins/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<!-- AdminLTE -->
<script src="{% static 'lib/adminlte-3.0.4/js/adminlte.js' %}"></script>
<!-- OPTIONAL SCRIPTS -->
<script src="{% static 'lib/adminlte-3.0.4/plugins/chart.js/Chart.min.js' %}"></script>
<script src="{% static 'lib/adminlte-3.0.4/js/demo.js' %}"></script>

<script src="{% static 'lib/toastr/toastr.min.js' %}"></script>
<script src="{% static 'acciones/alertas.js' %}"></script>
<!-- Bootstrap 4 -->
<script src="{% static 'lib/plugins/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<!-- DataTables -->
<script src="{% static 'lib/plugins/datatables/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'lib/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js' %}"></script>
<script src="{% static 'lib/plugins/datatables-responsive/js/dataTables.responsive.min.js' %}"></script>
<script src="{% static 'lib/plugins/datatables-responsive/js/responsive.bootstrap4.min.js' %}"></script>
<script src="{% static 'lib/jquery-loading-overlay-2.1.7/js/loadingoverlay.min.js' %}"></script>

{% block scripts %}

{% endblock %}

<div class="modal fade" id="modal-default">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Permisos de Usuarios</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Ud no cuenta con los Privilegios Suficientes para realizar esta acción <br> Muchas Gracias
                    &hellip;</p>
            </div>
            <div class="modal-footer justify-content-between">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>

</body>

</html>
